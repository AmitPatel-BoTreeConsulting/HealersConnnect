- @course ||= Course.new
- create_view = @course.new_record?
- submit_btn_caption = ( create_view ? t('course.caption.button.new') : t('course.caption.button.update') )
= render partial: 'shared/error_messages', locals: { target: @course }
.row
  .col-xs-12
    = form_for @course,  html: {class: 'form-horizontal', role: 'form'} do |f|
      .space-4
      .form-group
        %label.col-sm-3.control-label.no-padding-right{for: 'form-field-1'} #{t('course.caption.course_category')}
        .col-sm-9.margin-top-6
          - @course_categories.each do |course_category|
            .col-sm-3
              = radio_button('course', 'course_category_id', course_category.id)
              = course_category.name
      .form-group
        %label.col-sm-3.control-label.no-padding-right{for: 'form-field-1'} #{t('common.caption.name')}
        .col-sm-9
          = f.text_field :name, class: 'col-xs-10 col-sm-5'
      .space-4
      .form-group
        %label.col-sm-3.control-label.no-padding-right{for: 'form-input-readonly'} #{t('common.caption.description')}
        .col-xs-10.col-sm-4
          = f.text_area :description, rows: 4, class: 'form-control', :class => 'ckeditor'
      .space-4
      .form-group
        %label.col-sm-3.control-label.no-padding-right{for: 'form-field-1'} #{t('course.caption.donation')}
        .col-sm-9
          = f.text_field :donation, class: 'col-xs-10 col-sm-5'
      .space-4
      .form-group
        %label.col-sm-3.control-label.no-padding-right{for: 'form-field-1'} #{t('course.caption.review_donation')}
        .col-sm-9
          = f.text_field :review_donation, class: 'col-xs-10 col-sm-5'
      .form-group
        %label.col-sm-3.control-label.no-padding-right{for: 'form-field-1'} #{t('common.caption.image')}
        .col-sm-9
          = f.file_field :avatar, class: 'col-xs-10 col-sm-5'
      - if @course.avatar.present?
        .form-group#course_avatar_part
          %label.col-sm-3.control-label.no-padding-right
          .col-sm-9
            = image_tag @course.avatar.url(:thumb)
      .form-group
        %label.col-sm-3.control-label.no-padding-right
        .col-sm-9
          %img(src='' id='preview_course_avatar' style='display:none;')

      .clearfix
        .col-md-offset-3.col-md-9
          = f.submit "#{submit_btn_caption}", class: 'btn btn-info', title: "#{submit_btn_caption}"
          = f.submit  t('common.caption.button.reset'), type: 'reset', class: 'btn', title:  t('common.caption.button.reset')
